<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dialog 2[ Lesson 12 ]</title></head>
<body>
<div id="loading">
    <h2>Loading audio file.</h2>
    <p>Please wait. This may take a minute&hellip;</p>
</div>
<div id="content">
    <p><i>Begin speaking as soon as audio starts. Mimic tone, shape, and duration.</i></p>
    <p>
        <button id="rateButton" onclick="toggleSpeed('rateButton', 0.75)">Play At &frac34 Speed</button>
    </p>
    <h2>
        <a href="#sentence1" onclick="play(1)" title="Bon Dance">盆踊り</a>
    </h2>
    <div id="beats"></div>
</div>
<div id="playbox">
    <p>
        <button onclick="playAll()">Play Entire Dialog</button>
    </p>
    <div>
        <audio id="player"
               src="https://www.ccsf.edu/Departments/Language_Center/oll/japanese/ganbaroo_2/14cd12/ch12_02_dia_part_2.mp3"
               controls preload="auto"></audio>
    </div>
</div>
<script type="text/javascript" src="../phrases_common.js"></script>
<script type="text/javascript" src="../beats_common.js"></script>
<script type="text/javascript" src="phrases.js"></script>
<script type="text/javascript" src="beats.js"></script>
<script type="text/javascript">

    function showLoading() {
        document.getElementById("loading").style.display = "block";
        document.getElementById("content").style.display = "none";
        document.getElementById("playbox").style.visibility = "hidden";
    }

    function showContent() {
        document.getElementById("loading").style.display = "none";
        document.getElementById("content").style.display = "block";
        document.getElementById("playbox").style.visibility = "visible";
    }

    showLoading();
    addBeats(document.getElementById("beats"));
    const aud = document.getElementById("player");
    aud.oncanplaythrough = showContent;
    if (aud.readyState > 3) {
        showContent();
    }
</script>
</body>
</html>